language: cpp

os:
  - linux
  - osx

dist: trusty
sudo: required

compiler:
  - clang
  - gcc

env:
  - CONFIG=Release
  #- CONFIG=Debug

notifications:
 email:
   on_success: change
   on_failure: always

before_install:
  - wget http://sourceforge.net/projects/boost/files/boost/1.64.0/boost_1_64_0.tar.bz2
  - tar jxf boost_1_64_0.tar.bz2
  - cd boost_1_64_0
  - ./bootstrap.sh
  - sudo ./bjam release install -d0 --with-chrono --with-container --prefix=/usr/local -j4
  - sudo ldconfig

install:
  - g++ --version
  - cmake --version

before_script:
   - cd $TRAVIS_BUILD_DIR/tests/base
   - mkdir build
   - cd build
   - cmake -DCMAKE_BUILD_TYPE=$CONFIG ..

script:
   - cd $TRAVIS_BUILD_DIR/tests/base
   - cmake --build . --config $CONFIG
   - ./yas-base-test binary
